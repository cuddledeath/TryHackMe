For this task, we're going to assume that we have managed to gain a foothold onto the container from something such as a vulnerable website running in a container.

7.1. Step 1. Connecting to the container:  

Connect to your Instance using SSH with the following details:

IP: **10.10.216.184**

SSH Port: **2233**

Username: **danny**

Password: **danny**

  

7.2. Looking for the exposed Docker socket  
Armed with the knowledge we've learnt about the Docker socket in "_Vulnerability #4: RCE via Exposed Docker Daemon_", we can look for exposure of this file within the container, and confirm whether or not the current user has permissions to run docker commands with `groups`.

![](https://assets.tryhackme.com/additional/docker-rodeo/container-socket/container-sock1.png)

7.3. Mount host volumes  
In the instance of this room, I have already downloaded the "alpine" image to the container that you are exploiting. In a THM room, you will most likely have to upload this image to the container before you can execute it, as Instances do not deploy with an internet connection.

Now that we've confirmed we can execute Docker commands, let's mount the host directory to a new container and then connect to that to reveal all the data on the host OS! `docker run -v /:/mnt --rm -it alpine chroot /mnt sh`  

![](https://assets.tryhackme.com/additional/docker-rodeo/container-socket/container-sock2.png)

_Note: If you do not receive any output after 30 seconds you will need to cancel the command by "Ctrl + C" and attempt to run it again._

We are essentially mounting the hosts "/" directory to the "/mnt" dir in a new container, chrooting and then connecting via a shell.

7.4. Verify loot

Success! We have a shell, let's verify who we're now connected as and enumerate around the file system.

![](https://assets.tryhackme.com/additional/docker-rodeo/container-socket/container-sock3.png)

Answer the questions below

Escape Successful